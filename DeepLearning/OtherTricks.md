# 空间金字塔池化

优点:

-  可以把任何尺度的图像的卷积特征转化成**相同维度**,可以让CNN处理任意尺度的图像
- 避免cropping和warping操作导致的信息丢失

> 一般的CNN都需要输入图像的大小是固定的，这是因为全连接层的输入必须是固定维度的数据.

假设原图输入是224x224，从conv5出来后的输出是13x13x256的，可以理解成有256个这样的filter，每个filter对应一张13x13的reponse map。用不同大小池化窗口作用于卷积特征，我们可以得到1X1,2X2,4X4的池化结果，由于conv5中共有256个过滤器，所以得到1个256维的特征，4个256个特征，以及16个256维的特征出来的特征就是(16+4+1)x256 维度。如果原图的输入不是224x224，出来的特征依然是(16+4+1)x256维度。这样就实现了不管图像尺寸如何 池化n 的输出永远是 （16+4+1）x256 维度。 

对于不同的图像要得到相同大小的pooling结果，就需要**根据图像的大小动态的计算池化窗口的大小和步长**。假设conv5输出的大小为axa，需要得到nxn大小的池化结果，可以让窗口大小sizeX为![img](https://img-blog.csdn.net/20150105213736284)，步长为![img](https://img-blog.csdn.net/20150105213741105)

![空间金字塔池化](/home/plz/Downloads/Notes4Learning/DeepLearning/空间金字塔池化.png)